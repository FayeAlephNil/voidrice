#!/bin/bash

tomove=$(find $1 -mindepth 1 | sort | dmenu -i -l 10)
locations="$BOOKS\\n$VIDEOS\\n$AUDIO\\n$DOWNLOADS"
where=$(printf $locations | dmenu -i -l 10)

opt=$2

doit() { \
	case "$opt" in
		"mv") mv "$tomove" "$where" ;;
		"ln") ln -s "$tomove" "$where" ;;
		"cp") cp -r "$tomove" "$where" ;;
		"**") choose && doit ;;
	esac
}

choose() {\
	opt=$(printf "mv\\nln\\ncp" | dmenu -i)
}

doit
